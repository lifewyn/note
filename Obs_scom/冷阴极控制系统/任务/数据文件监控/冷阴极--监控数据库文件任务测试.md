---
time: 2025-02-11
tags:
  - C
  - scom
---
--- 
# 一、需求
由于数据库文件在根目录下，需要在设备维护期间检查数据库的文件大小，以免影响根文件

---
# 二、代码修改

![[Pasted image 20250214134427.png]]

--- 
# 三、测试结果

### 1. 文件存在
#### （1）文件属性

![[Pasted image 20250211134235.png]]
#### （2）运行结果

![[Pasted image 20250211134259.png]]

#### （3）log显示

![[Pasted image 20250211134832.png]]

### 2. 文件不存在
#### （1）文件属性

![[Pasted image 20250211134427.png]]
#### （2）运行结果

![[Pasted image 20250211134454.png]]

#### （3）log显示

![[Pasted image 20250211134534.png]]

### 3. 错误情况
#### （1）异常消息
{"record":20}

#### （2）运行结果

![[Pasted image 20250212112255.png]]

