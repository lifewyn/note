
## 一、测试环境
**硬件平台**：T113Linux系统开发板  
![[46b84a275e5c45fbbd68c2c889f3fe19.png]]
**I2C接口**：Linux系统中配置好的I2C总线（/dev/i2c-0）  
![[Pasted image 20250325133631.png]]
**被测模块**：GP8503 DAC模块  
![[Pasted image 20250325133658.png]]
**测试工具**：i2c-tools工具、定制C程序
![[Pasted image 20250325134028.png]]

## 二、测试方法
### （一）i2c-tools工具测试
1. 使用i2cdetect命令扫描I2C总线，确认GP8503模块的从机地址为0x58。
   ![[Pasted image 20250325134151.png]]
2. 使用i2cset命令向模块寄存器写入测试数据，验证其对不同指令的响应。
![[Pasted image 20250325134843.png]]
![[Pasted image 20250325134852.png]]
![[Pasted image 20250325134859.png]]
### （二）C程序测试
1. 编写C程序，通过I2C总线与GP8503通信，实现电压设置功能。
   ![[Pasted image 20250325134957.png]]
   ![[Pasted image 20250325135653.png]]![[Pasted image 20250325135703.png]]
   ![[2a60d65c22d94ca5ad683900669d3d5d.png]]
2. 在程序中设置不同目标电压值，观察模块输出是否符合预期。
![[Pasted image 20250325135244.png]]
![[Pasted image 20250325140103.png]]
![[Pasted image 20250325140112.png]]
![[0993c658c9f94effb7d91060ba13f813.png]]
## 三、测试结果
### （一）i2c-tools工具测试结果
1. 成功扫描到GP8503模块，从机地址正确。
2. 各项寄存器写入操作均能正确执行，模块响应正常。

### （二）C程序测试结果
1. 程序能够成功打开I2C总线并与模块通信。
2. 设置的电压值在0-5V范围内时，模块输出正确。

## 四、问题与分析
### （一）问题
1. 参数配置数据位错误，导致输出电压错误
   错误配置参数：
   ![[897765d605c8486499379d44ec75d4ff.png]]
   正确配置参数：
	![[Pasted image 20250325140103.png]]
	![[Pasted image 20250325140451.png]]
### （二）分析
1. 更改配置参数的位置方式，重新测试正确。

## 六、结论
通过i2c-tools工具和C程序两种方式对GP8503模块进行测试，结果表明模块能够正常工作，通信稳定可靠。虽然存在一些小问题，但通过测试，满足实际应用需求。